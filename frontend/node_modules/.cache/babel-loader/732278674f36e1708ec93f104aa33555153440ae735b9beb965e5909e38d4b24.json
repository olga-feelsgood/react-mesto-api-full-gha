{"ast":null,"code":"import _classCallCheck from\"/Users/olgafilchukova/Desktop/YP/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/olgafilchukova/Desktop/YP/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var url=_ref.url,headers=_ref.headers;_classCallCheck(this,Api);this._url=url;this._headers=headers;}_createClass(Api,[{key:\"_checkRes\",value:function _checkRes(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u0427\\u0442\\u043E-\\u0442\\u043E \\u043F\\u043E\\u0448\\u043B\\u043E \\u043D\\u0435 \\u0442\\u0430\\u043A: \".concat(res.status));}}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._url,\"/users/me\"),{headers:this._headers}).then(this._checkRes);}},{key:\"setUserInfo\",value:function setUserInfo(name,about){return fetch(\"\".concat(this._url,\"/users/me\"),{headers:this._headers,method:'PATCH',body:JSON.stringify(name,about)}).then(this._checkRes);}},{key:\"updateProfileAvatar\",value:function updateProfileAvatar(avatar){return fetch(\"\".concat(this._url,\"/users/me/avatar\"),{headers:this._headers,method:'PATCH',body:JSON.stringify(avatar)}).then(this._checkRes);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._url,\"/cards\"),{headers:this._headers}).then(this._checkRes);}},{key:\"createCard\",value:function createCard(_ref2){var name=_ref2.name,link=_ref2.link;return fetch(\"\".concat(this._url,\"/cards\"),{headers:this._headers,method:'POST',body:JSON.stringify({name:name,link:link})}).then(this._checkRes);}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(\"\".concat(this._url,\"/cards/\").concat(cardId),{headers:this._headers,method:'DELETE'}).then(this._checkRes);}},{key:\"_addLikeToCard\",value:function _addLikeToCard(cardId){return fetch(\"\".concat(this._url,\"/cards/\").concat(cardId,\"/likes\"),{headers:this._headers,method:'PUT'}).then(this._checkRes);}},{key:\"_removeLikeFromCard\",value:function _removeLikeFromCard(cardId){return fetch(\"\".concat(this._url,\"/cards/\").concat(cardId,\"/likes\"),{headers:this._headers,method:'DELETE'}).then(this._checkRes);}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,isLiked){if(isLiked){return this._addLikeToCard(cardId);}else{return this._removeLikeFromCard(cardId);}}}]);return Api;}();var api=new Api({url:'https://mesto.nomoreparties.co/v1/cohort-58',headers:{'Content-Type':'application/json',authorization:'d42ba68e-f900-4c11-95ea-04d69bce07af'}});export default api;","map":{"version":3,"names":["Api","_ref","url","headers","_classCallCheck","_url","_headers","_createClass","key","value","_checkRes","res","ok","json","Promise","reject","concat","status","getUserInfo","fetch","then","setUserInfo","name","about","method","body","JSON","stringify","updateProfileAvatar","avatar","getInitialCards","createCard","_ref2","link","deleteCard","cardId","_addLikeToCard","_removeLikeFromCard","changeLikeCardStatus","isLiked","api","authorization"],"sources":["/Users/olgafilchukova/Desktop/YP/react-mesto-api-full-gha/frontend/src/utils/Api.js"],"sourcesContent":["class Api {\n  constructor({ url, headers }) {\n    this._url = url;\n    this._headers = headers;\n  }\n\n  _checkRes(res) {\n    if (res.ok) {\n      return res.json()\n    }\n    else {\n      return Promise.reject(`Что-то пошло не так: ${res.status}`);\n    }\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    })\n      .then(this._checkRes)\n  }\n\n  setUserInfo(name, about) {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify(name, about)\n    })\n      .then(this._checkRes)\n  }\n\n  updateProfileAvatar(avatar) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify(avatar)\n    })\n      .then(this._checkRes)\n  }\n\n\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    })\n      .then(this._checkRes)\n  }\n\n  createCard({ name, link }) {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers,\n      method: 'POST',\n      body: JSON.stringify({ name, link })\n    })\n      .then(this._checkRes)\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      headers: this._headers,\n      method: 'DELETE'\n    })\n      .then(this._checkRes)\n  }\n\n  _addLikeToCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      headers: this._headers,\n      method: 'PUT',\n    })\n      .then(this._checkRes)\n  }\n\n  _removeLikeFromCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      headers: this._headers,\n      method: 'DELETE',\n    })\n      .then(this._checkRes)\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {return this._addLikeToCard(cardId)}\n    else {return this._removeLikeFromCard(cardId)}\n  }\n\n\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-58',\n  headers: {\n    'Content-Type': 'application/json',\n    authorization: 'd42ba68e-f900-4c11-95ea-04d69bce07af'\n  }\n})\n\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}